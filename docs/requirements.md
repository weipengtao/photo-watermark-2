# 图片水印工具需求文档

## 1. 功能需求

### 1.1 文件处理
- [x] 单张图片导入（拖拽/文件选择器）
- [x] 批量图片导入
- [x] 图片列表展示（缩略图+文件名）
- [x] 支持输入格式：JPEG, PNG, BMP, TIFF
- [x] 支持输出格式：JPEG, PNG
- [x] 自定义输出路径
- [x] 文件名规则配置（前缀/后缀）

### 1.2 水印功能
- [x] 文本水印
  - 自定义内容
  - 字体/字号/样式
  - 颜色/透明度
- [ ] 图片水印（高级）
  - PNG透明通道支持
  - 缩放/透明度调节

### 1.3 布局与预览
- [x] 九宫格定位
- [x] 手动拖拽定位
- [ ] 旋转功能（高级）

## 2. 技术方案

### 2.1 模块划分
- `watermark-core`: 图像处理核心
  - 图像读写
  - 水印算法
- `watermark-ui`: JavaFX图形界面
  - 主界面
  - 预览组件
  - 控制面板

### 2.2 依赖库
- Apache Commons Imaging (图像处理)
- JavaFX 17 (GUI)

## 3. 开发计划

### 3.1 第一阶段：核心功能
1. 实现基础图像读写
2. 开发文本水印功能
3. 完成基本GUI框架

### 3.2 第二阶段：高级功能
1. 图片水印支持
2. 旋转/缩放功能
3. 模板管理

### 3.3 第三阶段：优化发布
1. 性能优化
2. 打包为可执行文件
3. 创建GitHub Release